Managing Projects with GNU Make, Third Edition
Pay attention to ch2.depend (Generating Prerequisites Automatically)